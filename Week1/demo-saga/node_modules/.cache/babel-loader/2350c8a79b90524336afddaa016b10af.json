{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Mohit\\\\Desktop\\\\COMET-Q3\\\\Week1\\\\demo-saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Mohit\\\\Desktop\\\\COMET-Q3\\\\Week1\\\\demo-saga\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, GET_PRODUCTS } from \"../actions/action-types/cart-actions\";\nvar initState = {\n  items: [],\n  addedItems: [],\n  total: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  //INSIDE HOME COMPONENT\n  if (action.type === GET_PRODUCTS) {\n    return _objectSpread(_objectSpread({}, state), {}, {\n      items: action.items\n    });\n  }\n\n  if (action.type === ADD_TO_CART) {\n    var addedItem = state.items.find(function (item) {\n      return item.id === action.id;\n    }); //check if the action id exists in the addedItems\n\n    var existed_item = state.addedItems.find(function (item) {\n      return action.id === item.id;\n    });\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        total: state.total + addedItem.price\n      });\n    } else {\n      addedItem.quantity = 1; //calculating the total\n\n      var newTotal = state.total + addedItem.price;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        addedItems: [].concat(_toConsumableArray(state.addedItems), [addedItem]),\n        total: newTotal\n      });\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    var itemToRemove = state.addedItems.find(function (item) {\n      return action.id === item.id;\n    });\n    var new_items = state.addedItems.filter(function (item) {\n      return action.id !== item.id;\n    }); //calculating the total\n\n    var _newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n\n    console.log(itemToRemove);\n    return _objectSpread(_objectSpread({}, state), {}, {\n      addedItems: new_items,\n      total: _newTotal\n    });\n  } //INSIDE CART COMPONENT\n\n\n  if (action.type === ADD_QUANTITY) {\n    var _addedItem = state.items.find(function (item) {\n      return item.id === action.id;\n    });\n\n    _addedItem.quantity += 1;\n\n    var _newTotal2 = state.total + _addedItem.price;\n\n    return _objectSpread(_objectSpread({}, state), {}, {\n      total: _newTotal2\n    });\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    var _addedItem2 = state.items.find(function (item) {\n      return item.id === action.id;\n    }); //if the qt == 0 then it should be removed\n\n\n    if (_addedItem2.quantity === 1) {\n      var _new_items = state.addedItems.filter(function (item) {\n        return item.id !== action.id;\n      });\n\n      var _newTotal3 = state.total - _addedItem2.price;\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        addedItems: _new_items,\n        total: _newTotal3\n      });\n    } else {\n      _addedItem2.quantity -= 1;\n\n      var _newTotal4 = state.total - _addedItem2.price;\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        total: _newTotal4\n      });\n    }\n  }\n\n  if (action.type === ADD_SHIPPING) {\n    return _objectSpread(_objectSpread({}, state), {}, {\n      total: state.total + 6\n    });\n  }\n\n  if (action.type === \"SUB_SHIPPING\") {\n    return _objectSpread(_objectSpread({}, state), {}, {\n      total: state.total - 6\n    });\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","GET_PRODUCTS","initState","items","addedItems","total","cartReducer","state","action","type","addedItem","find","item","id","existed_item","quantity","price","newTotal","itemToRemove","new_items","filter","console","log"],"sources":["C:/Users/Mohit/Desktop/COMET-Q3/Week1/demo-saga/src/components/reducers/cartReducer.js"],"sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  REMOVE_ITEM,\r\n  SUB_QUANTITY,\r\n  ADD_QUANTITY,\r\n  ADD_SHIPPING,\r\n  GET_PRODUCTS\r\n} from \"../actions/action-types/cart-actions\";\r\n\r\nconst initState = {\r\n  items: [],\r\n  addedItems: [],\r\n  total: 0\r\n};\r\nconst cartReducer = (state = initState, action) => {\r\n  //INSIDE HOME COMPONENT\r\n  if (action.type === GET_PRODUCTS) {\r\n    return {\r\n      ...state,\r\n      items: action.items\r\n    };\r\n  }\r\n  if (action.type === ADD_TO_CART) {\r\n    let addedItem = state.items.find(item => item.id === action.id);\r\n    //check if the action id exists in the addedItems\r\n    let existed_item = state.addedItems.find(item => action.id === item.id);\r\n    if (existed_item) {\r\n      addedItem.quantity += 1;\r\n      return {\r\n        ...state,\r\n        total: state.total + addedItem.price\r\n      };\r\n    } else {\r\n      addedItem.quantity = 1;\r\n      //calculating the total\r\n      let newTotal = state.total + addedItem.price;\r\n\r\n      return {\r\n        ...state,\r\n        addedItems: [...state.addedItems, addedItem],\r\n        total: newTotal\r\n      };\r\n    }\r\n  }\r\n  if (action.type === REMOVE_ITEM) {\r\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\r\n    let new_items = state.addedItems.filter(item => action.id !== item.id);\r\n\r\n    //calculating the total\r\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\r\n    console.log(itemToRemove);\r\n    return {\r\n      ...state,\r\n      addedItems: new_items,\r\n      total: newTotal\r\n    };\r\n  }\r\n  //INSIDE CART COMPONENT\r\n  if (action.type === ADD_QUANTITY) {\r\n    let addedItem = state.items.find(item => item.id === action.id);\r\n    addedItem.quantity += 1;\r\n    let newTotal = state.total + addedItem.price;\r\n    return {\r\n      ...state,\r\n      total: newTotal\r\n    };\r\n  }\r\n  if (action.type === SUB_QUANTITY) {\r\n    let addedItem = state.items.find(item => item.id === action.id);\r\n    //if the qt == 0 then it should be removed\r\n    if (addedItem.quantity === 1) {\r\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\r\n      let newTotal = state.total - addedItem.price;\r\n      return {\r\n        ...state,\r\n        addedItems: new_items,\r\n        total: newTotal\r\n      };\r\n    } else {\r\n      addedItem.quantity -= 1;\r\n      let newTotal = state.total - addedItem.price;\r\n      return {\r\n        ...state,\r\n        total: newTotal\r\n      };\r\n    }\r\n  }\r\n\r\n  if (action.type === ADD_SHIPPING) {\r\n    return {\r\n      ...state,\r\n      total: state.total + 6\r\n    };\r\n  }\r\n\r\n  if (action.type === \"SUB_SHIPPING\") {\r\n    return {\r\n      ...state,\r\n      total: state.total - 6\r\n    };\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}